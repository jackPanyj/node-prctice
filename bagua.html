<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <title>canvas</title>
    <link rel="stylesheet" media="screen" href="//netdna.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css">
    <script src="//code.jquery.com/jquery.js"></script>
    <script src="//netdna.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
    <style type="text/css">
    canvas {
    display: block;
    margin: 10px auto;
    }
    #container {
       position: relative;
    }
    #controller {
          position: absolute;
          top: 100px;
          right: 100px;
    }
    </style>
  </head>
  <body>
  
  <div id="container">
    <canvas id="canvas" width="600px" height="600px" ></canvas>
    <div id="controller">
    <a  class="btn btn-info" href="javascript:changeStatus(0)">static</a>
    <a  class="btn btn-success" href="javascript:changeStatus(1)">motion</a>
    <div class="dropdown" style="display:inline-block">
      <button class="btn btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">
         Speed
        <span class="caret"></span>
      </button>
      <ul class="dropdown-menu" aria-labelledby="dropdownMenu1">
        <li class="active"><a href="javascript:changeSpeed(0.1)">slow</a></li>
        <li><a href="javascript:changeSpeed(0.2)">normal</a></li>
        <li><a href="javascript:changeSpeed(0.3)">fast</a></li>
      </ul>
    </div>
    </div>
  </div>
    <script type="text/javascript">
    var canvas = document.getElementById('canvas'),
    ctx = canvas.getContext("2d"),
    arc1 = 0,
    speed=0.1,
    status = 1,
    radius = canvas.width;
    window.onload = function  () {
    ctx.save();
    ctx.translate(radius/2, radius/2);
      function drawBaGua (arc1) {
        ctx.clearRect(-radius/2,-radius/2 , radius, radius);
         var path = new Path2D();
         path.arc(0, 0, radius/2, -Math.PI*0.5+arc1, Math.PI*0.5+arc1);
         ctx.fillStyle = "white";
         ctx.fill(path);
         ctx.stroke(path);

         var path1 = new Path2D();
         path1.arc(0, 0, radius/2, Math.PI*0.5+arc1, Math.PI*1.5+arc1);
         ctx.fillStyle = "black";
         ctx.fill(path1);

         var path2 = new Path2D();
         path2.arc(Math.cos(Math.PI/2 - arc1)*radius/4,-Math.sin(Math.PI/2 - arc1)*radius/4, radius/4, 0, Math.PI*2);
         ctx.fillStyle = "black";
         ctx.fill(path2);

         var path3 = new Path2D();
         path3.arc(Math.cos(Math.PI/2 + arc1)*radius/4, Math.sin(Math.PI/2 + arc1)*radius/4, radius/4, 0, Math.PI*2);
         ctx.fillStyle = "white";
         ctx.fill(path3);
         ctx.stroke(path3);

         var path4 = new Path2D();
        path4.arc(Math.cos(Math.PI/2 - arc1)*radius/4, -Math.sin(Math.PI/2 - arc1)*radius/4, radius/40, 0, Math.PI*2);
        ctx.fillStyle = "white";
        ctx.fill(path4);
        ctx.stroke(path4);

        var path5 = new Path2D();
        path5.arc(Math.cos(Math.PI/2 + arc1)*radius/4, Math.sin(Math.PI/2 + arc1)*radius/4, radius/40, 0, Math.PI*2);
        ctx.fillStyle = "black";
        ctx.fill(path5);
      }
      drawBaGua(arc1);
      setInterval(function() {
          if(status == 1){
            drawBaGua(arc1);
            arc1 += Math.PI*speed;
          }
      }, 150);
    }

    function changeSpeed (rank) {
       speed = rank;
       $(".dropdown-menu li").eq(rank*10-1).addClass('active').siblings().removeClass('active');
    }

    function changeStatus (arg_status) {
        status = arg_status;
    }
    </script>
  </body>
</html>
 